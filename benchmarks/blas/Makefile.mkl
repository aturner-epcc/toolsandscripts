SRC	= blas_benchmark.c

OBJ	=$(SRC:.c=.o)

CC      = cc
PP      = 

LDFLAGS =
CFLAGS  =  -O3 $(PP)
LIBS    = -Wl,--start-group $(MKLROOT)/lib/intel64/libmkl_intel_lp64.a $(MKLROOT)/lib/intel64/libmkl_core.a $(MKLROOT)/lib/intel64/libmkl_sequential.a -Wl,--end-group -lpthread -lm -ldl

PRG	= blas_mkl

main:	$(PRG) 

.c.o:	Makefile.mkl
	$(CC) -c $(CFLAGS) $<

$(PRG):$(OBJ) Makefile.mkl 
	$(CC) $(LDFLAGS) -o $@ $(OBJ) $(LIBS)

clean:
	rm -fr $(TMP) $(OBJ) $(PRG) core
